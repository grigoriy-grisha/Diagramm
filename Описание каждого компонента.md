
#  `SchemeComponent<Abstract>`

Базовый абстрактный компонент принимает **`SchemeContext`** для возможности доступа к **`ShemeModel`** и **`TrainDom`**.

# `SelectPlaceComponent`
Компонент обработки выбора места. После выбора места, уведомляет об имзенении модели.
Для снятия места из выбора нужно вызвать тот же метод, что и для выбора (`selectPlace`)

# `PlaceActionComponent<Abstract>`

Базовый компонент какого-либо действия (Выбор тарифа, гендера). Объединяет в себе общий функционал для классов **`SelectTariffComponent`** и **`SelectGenderComponent`**.
Имеет методы **`setSelectPlaceHandler`**, **`setClearDataHandler`**. 

Это позволяет "Задекорировать" прошлый компонент выбора мест и реализиовать композицию действий.
Например, при клике на место с возможностью выбора тарифа в купе. Сначала вызывается (вызов `selectPlace` из `SelectGenderComponent`)  компонент выбора гендера, после выбора гендера управление переходит компоненту (вызов `selectPlace` из `SelectTariffComponent`) выбора тарифа и уже затем передается управление самому базовому компоненту выбора места **`SelectPlaceComponent`**, он уже выполнит выбор самого места. 

Если на каком-то этапе пользователь передумает выбирать место, то компоненты поочередно буду вызывать друг у друга методы закрытия и отчистки и восстановления данных схемы.

Например, для выгона выбора купе композиция компонентов выглядит так:

`SelectGenderComponent -> SelectTariffComponent -> SelectPlaceComponent`

Для выбора сидячих мест выглядит так:

`SelectTariffComponent -> SelectPlaceComponent`

# `SelectGenderComponent`

Реализует функционал выбора гендера для купе. Когда пользователь выбирает гендер, компонент изменяет состояние схемы и передает выбор места другому компоненту.

# `SelectTariffComponent`

Реализует функционал выбора тарифа для купе. Когда пользователь выбирает тариф, компонент изменяет состояние схемы и передает выбора места другому компоненту.

# `IconsDescriptionComponent`

Реализует отображение подсказок при наведении на иконки.

# `HoverAllCompartmentComponent` 

Реализует подсвечивание всех мест в режиме выбора всего купе.

# Компоненты выполнения действий выбора мест для всего купе.

## `SelectGroupComponent<Abstract>`

Базовый компонент, объединяет в себе общий функционал компонентов **`SelectCoupeСonferenceRoomComponent`** и **`SelectAllCompartmentComponent`**.
В методе `init` реализует композицию компонентов действий при выборе места, это было опиано выше.

Так же компонент внутри держит асинхронное состояние того, что он находится "в действии" (`actionInProcess`)

## `SelectAllCompartmentComponent`

Компонент нужен для для режима работы "Выбора всего купе".

Компонент реализует фуникционал поочередного вызова всех действий для места и выбора кождого места из купе.
Подбор следующего места для выбора компонент делает не рандомно, он старается предлагать для дальнешего выбора самое близкое место.

Компонент делает это ассинхронно, пристанваливая выбор места, до тех пор, пока пользователь не завершит все действия у места (выберет все тарифы, гендер и выбере место | отменит выбор). 

Если какие-то места выбранны, а пользователь не захотел выбирать места в этом купе, то компонент проблежится по выбранным места и выолнит откад действий пользователя.

## `SelectCoupeConferenceRoomComponent` 

Выполняет похоживе действия, что и компонент **`SelectAllCompartmentComponent`**, только не использует выбор гендера.

## `PlaceDescriptionView`

Компонент, хоть и находится в папке Views, на самом делел должен находится в компонентах

Реализует отображение подсказок на местах используя текущее состояние схемы.

Компонент принимает классы Descriptions.

Классы `Descriptions` самы в методе **`getDescription`** определяют какой текст показать в зависимости от состояния схемы.

Когда пользоватльаводится на место класс **`PlaceDescriptionView`** циклом пробегается по всем `Descriptions` и вызывает у них метод **`getDescription`**. какой метод отдал результат первым, такой текст и покажется. Поэтому при передаче Классов `Descriptions`, следует их передавать в определнном порядке.

